#output: /global/homes/a/akusiak/software/Likelihoods_sz/soliket/ymap/chains/kg_DES_alpha_sigma_M1prime_Mmin_a_blue_2-11
output:  /Users/aleksandra/software/SOLikeT/soliket/yg/chains/kg_test_Maglim1

likelihood:
  soliket.yg.galaxy_x_kappa.GXK_Likelihood:
    data_directory: "/Users/aleksandra/software/SOLikeT/soliket/yg/data/"
    gk_data_file: "gglens_DES_healpy_1024_Maglim2_kappa4.txt"
    cov_gk_data_file: "gglens_cov_DES_healpy_1024_Maglim2_kappa4.txt"
    bp_wind_file: "bandpower_window_function_namaster.txt.npy"
    s_file: "s_blue.txt"
    pixwind_file: "pixel_window_bin_nside1024.txt"
    Nbins: 40
params:
  alpha_s_HOD:
    prior:
      min: 0.1
      max: 2.5
    ref:
      dist: norm
      loc: 1.4271830
      scale: 0.01
    proposal: 0.03
    latex: \alpha_{HOD}
  sigma_log10M_HOD:
    prior:
      min: 0.01
      max: 1.20
    ref:
      dist: norm
      loc: 0.3
      scale: 0.01
    proposal: 0.03
    latex: \sigma_{HOD}

# sampler:
#     mcmc:
#       covmat: auto
#       #covmat: "/global/homes/a/akusiak/software/Likelihoods_sz/soliket/ymap/chains/joint_DES_alpha_sigma_M1prime_Mmin_shotnoise_blue_10-28.covmat"
#       Rminus1_stop: 0.01
#       learn_proposal: True
#       learn_proposal_Rminus1_max: 100.0
#       learn_proposal_Rminus1_max_early: 300.0
#       #drag: true
#       #output_every: 10s
#       proposal_scale: 2.4
#       max_tries: 5000
sampler:
    evaluate:
      override:
        sigma_log10M_HOD:  0.29
        alpha_s_HOD: 1.74
        # logM_min_HOD: 11.795964
        # logM1_prime: 12.701308
        # #A_shot_noise: -0.25547369
        # x_out_truncated_nfw_profile_satellite_galaxies: 1.0868995
        # # #Omega_m: 0.312216
        # h: 0.6766
        # omega_cdm: 0.11933

theory :
  classy_szfast.classy_sz.classy_sz:
     extra_args:
                 output: 'gal_gallens_1h,gal_gallens_2h'
                 galaxy_sample : 'custom'

                 redshift_epsabs: 1.0e-40
                 redshift_epsrel: 0.0005
                 mass_epsabs: 1.0e-40
                 mass_epsrel: 0.0005
                 ndim_masses: 150
                 ndim_redshifts: 150
                 class_sz_verbose: 0
                 nonlinear_verbose: 0
                 N_samp_fftw: 8000 #precision parameter for the bessel transform to theta space
                 l_min_samp_fftw: 1e-12
                 l_max_samp_fftw: 1e12

                 P_k_max_h/Mpc: 100.0
                 k_min_for_pk_class_sz: 0.0001
                 k_max_for_pk_class_sz: 10.0
                 k_per_decade_class_sz: 20.0

                 ell_max: 5000.0
                 ell_min: 2.0
                 z_min: 0.005
                 z_max: 4
                 M_min: 7.0e8
                 M_max: 3.5e15
                 dlogell: 0.3
                 multipoles_sz: 'ell_mock'

                 hm_consistency: 0
                 delta for galaxies: "200c"
                 delta for matter density: "200c"
                 mass function: 'T08M200c'
                 concentration parameter: 'B13'

                ### Cosmology
                 omega_b : 0.02242
                 omega_cdm : 0.11933
                 h : 0.6766
                 #sigma8: 0.8102
                 tau_reio : 0.0561
                 ln10^{10}A_s : 3.047
                 n_s : 0.9665
                 k_pivot : 0.05
                 N_ncdm : 1
                 N_ur : 2.0328
                 m_ncdm : 0.06

                 ####HOD PARAMS
                # Maglim Lens 2 source 4

                 full_path_to_dndz_gal:  '/Users/aleksandra/software/class_sz/class_sz_auxiliary_files/nz_maglim_bin2.txt' # lens galaxies
                 full_path_to_source_dndz_gal: '/Users/aleksandra/software/class_sz/class_sz_auxiliary_files/nz_redmagic_source_z_bin4.txt' # source galaxies
                 M_min_HOD: 547603918739.7538 #(10** 11.91) *0.6737
                 M1_prime_HOD:  17720115461399.184 #(10** 13.42) *0.6737
                 # sigma_log10M_HOD: 0.30
                 # alpha_s_HOD: 1.85
                 x_out_truncated_nfw_profile_satellite_galaxies: 1.07
                 #f_cen_HOD': 0.12, # no fcent for maglim
                 Delta_z_lens: -3.5e-2
                 Delta_z_source: 0.0

stop_at_error: True
debug: True
timing: True
